import{l as x,j as h,r as p,R as v,a as k}from"./vendor.922b7c71.js";const y=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function m(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(e){if(e.ep)return;e.ep=!0;const t=m(e);fetch(e.href,t)}};y();var l="./assets/checkbox.bce85b74.svg";const _="_App_mjm37_1",j="_Footer_mjm37_53";var n={App:_,"App-header":"_App-header_mjm37_8","Todo-list":"_Todo-list_mjm37_23","Todo-input":"_Todo-input_mjm37_44",Footer:j,"Footer-item":"_Footer-item_mjm37_61"};const N={name:"PWA test",storeName:"pwa_test",version:1,description:"Offline storage for the app data"},d=x.createInstance(N),u="tasks";async function A(){if(await d.getItem(u)!=null)return;const s=[{text:"Build tools",checked:!0},{text:"Create page layout",checked:!0},{text:"Input fields",checked:!0},{text:"Offline data storage",checked:!0},{text:"Upload images",checked:!1}];await d.setItem(u,s)}const o=h.exports.jsx,c=h.exports.jsxs;function F(){return c("div",{className:n.App,children:[o(I,{}),o("main",{children:o(w,{})}),o(T,{})]})}function I(){return c("header",{className:n["App-header"],children:[o("h1",{children:"PWA test"}),o("img",{src:l,className:n["App-logo"],alt:"logo"})]})}function w(){const[r,s]=p.exports.useState([]);p.exports.useEffect(()=>{d.getItem(u).then(e=>s(e!=null?e:[])).catch(e=>console.error("failed to load!",e))},[]),p.exports.useEffect(()=>{d.setItem(u,r).catch(e=>console.error("failed to save!",e))},[r]);const m=e=>{const t=[...r];t[e].checked=!t[e].checked,s(t)},a=e=>{const t=[...r,e];s(t)};return c("form",{onSubmit:e=>{e.preventDefault();const t=`.${n["Todo-input"]}`,i=e.currentTarget.querySelector(t);if(i!=null){const f=i,g=f.value;f.value="",a({text:g,checked:!1})}},children:[o("ol",{className:n["Todo-list"],children:r.map((e,t)=>o("li",{children:c("label",{children:[o("input",{type:"checkbox",name:`${t}_${e.text}`,checked:e.checked,onChange:()=>m(t)}),e.text]})},t))}),o("input",{className:n["Todo-input"],name:"new-item",type:"text",placeholder:"New todo item..."})]})}function T(){return c("footer",{className:n.Footer,children:[c("div",{className:n["Footer-item"],children:[o("img",{src:l,alt:"logo"}),o("span",{children:"history"})]}),c("div",{className:n["Footer-item"],children:[o("img",{src:l,alt:"logo"}),o("span",{children:"sync"})]}),c("div",{className:n["Footer-item"],children:[o("img",{src:l,alt:"logo"}),o("span",{children:"other"})]})]})}A().then(()=>{v.render(o(k.StrictMode,{children:o(F,{})}),document.getElementById("root"))});"serviceWorker"in navigator?navigator.serviceWorker.register("./service-worker.js",{}).then(r=>{console.log("Registration succeeded. Scope is "+r.scope)}).catch(r=>{debugger;console.log("Registration failed with "+r)}):console.error("Wont work!");
