import{l as x,j as f,r as u,R as v,a as _}from"./vendor.922b7c71.js";const y=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function d(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(e){if(e.ep)return;e.ep=!0;const t=d(e);fetch(e.href,t)}};y();var l="./assets/checkbox.bce85b74.svg";const k="_App_mjm37_1",j="_Footer_mjm37_53";var s={App:k,"App-header":"_App-header_mjm37_8","Todo-list":"_Todo-list_mjm37_23","Todo-input":"_Todo-input_mjm37_44",Footer:j,"Footer-item":"_Footer-item_mjm37_61"};const N={name:"PWA test",storeName:"pwa_test",version:1,description:"Offline storage for the app data"},m=x.createInstance(N),p="tasks",A=[{text:"Build tools",checked:!0},{text:"Create page layout",checked:!0},{text:"Input fields",checked:!0},{text:"Offline data storage",checked:!0},{text:"Upload images",checked:!1}];m.setItem(p,A);const o=f.exports.jsx,c=f.exports.jsxs;function F(){return c("div",{className:s.App,children:[o(I,{}),o("main",{children:o(b,{})}),o(w,{})]})}function I(){return c("header",{className:s["App-header"],children:[o("h1",{children:"PWA test"}),o("img",{src:l,className:s["App-logo"],alt:"logo"})]})}function b(){const[r,n]=u.exports.useState([]);u.exports.useEffect(()=>{m.getItem(p).then(e=>n(e!=null?e:[])).catch(e=>console.error("failed to load!",e))},[]),u.exports.useEffect(()=>{m.setItem(p,r).catch(e=>console.error("failed to save!",e))},[r]);const d=e=>{const t=[...r];t[e].checked=!t[e].checked,n(t)},a=e=>{const t=[...r,e];n(t)};return c("form",{onSubmit:e=>{e.preventDefault();const t=`.${s["Todo-input"]}`,i=e.currentTarget.querySelector(t);if(i!=null){const h=i,g=h.value;h.value="",a({text:g,checked:!1})}},children:[o("ol",{className:s["Todo-list"],children:r.map((e,t)=>o("li",{children:c("label",{children:[o("input",{type:"checkbox",name:`${t}_${e.text}`,checked:e.checked,onChange:()=>d(t)}),e.text]})},t))}),o("input",{className:s["Todo-input"],name:"new-item",type:"text",placeholder:"New todo item..."})]})}function w(){return c("footer",{className:s.Footer,children:[c("div",{className:s["Footer-item"],children:[o("img",{src:l,alt:"logo"}),o("span",{children:"history"})]}),c("div",{className:s["Footer-item"],children:[o("img",{src:l,alt:"logo"}),o("span",{children:"sync"})]}),c("div",{className:s["Footer-item"],children:[o("img",{src:l,alt:"logo"}),o("span",{children:"other"})]})]})}v.render(o(_.StrictMode,{children:o(F,{})}),document.getElementById("root"));"serviceWorker"in navigator?navigator.serviceWorker.register("./service-worker.js",{}).then(r=>{console.log("Registration succeeded. Scope is "+r.scope)}).catch(r=>{debugger;console.log("Registration failed with "+r)}):console.error("Wont work!");
