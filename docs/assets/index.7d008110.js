import{j as v,O as _,L as l,l as k,r as f,R as N,a as F,B as S,b as w,c as d}from"./vendor.4f52f678.js";const H=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function h(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(e){if(e.ep)return;e.ep=!0;const o=h(e);fetch(e.href,o)}};H();var u="./assets/checkbox.bce85b74.svg";const I="_App_1v1zn_1",$="_Header_1v1zn_8",T="_Footer_1v1zn_23";var c={App:I,Header:$,Footer:T,"Footer-item":"_Footer-item_1v1zn_31"};const t=v.exports.jsx,s=v.exports.jsxs;function A(){return s("div",{className:c.App,children:[t(O,{}),t("main",{children:t(_,{})}),t(R,{})]})}function O(){return t(l,{to:"/",children:s("header",{className:c.Header,children:[t("h1",{children:"PWA test"}),t("img",{src:u,className:c["App-logo"],alt:"logo"})]})})}function R(){return s("footer",{className:c.Footer,children:[s(l,{to:"/",className:c["Footer-item"],children:[t("img",{src:u,alt:"logo"}),t("span",{children:"todo"})]}),s(l,{to:"/sync",className:c["Footer-item"],children:[t("img",{src:u,alt:"logo"}),t("span",{children:"sync"})]}),s(l,{to:"/history",className:c["Footer-item"],children:[t("img",{src:u,alt:"logo"}),t("span",{children:"history"})]})]})}var g={"Todo-list":"_Todo-list_1ynrm_1","Todo-input":"_Todo-input_1ynrm_22"};const b={name:"PWA test",storeName:"pwa_test",version:1,description:"Offline storage for the app data"},m=k.createInstance(b),p="tasks";async function j(){if(await m.getItem(p)!=null)return;const n=[{text:"Build tools",checked:!0},{text:"Create page layout",checked:!0},{text:"Input fields",checked:!0},{text:"Offline data storage",checked:!0},{text:"Upload images",checked:!1}];await m.setItem(p,n)}function L(){const[r,n]=f.exports.useState([]);f.exports.useEffect(()=>{m.getItem(p).then(e=>n(e!=null?e:[])).catch(e=>console.error("failed to load!",e))},[]),f.exports.useEffect(()=>{m.setItem(p,r).catch(e=>console.error("failed to save!",e))},[r]);const h=e=>{const o=[...r];o[e].checked=!o[e].checked,n(o)},a=e=>{const o=[...r,e];n(o)};return s("form",{onSubmit:e=>{e.preventDefault();const o=`.${g["Todo-input"]}`,i=e.currentTarget.querySelector(o);if(i!=null){const y=i,x=y.value;y.value="",a({text:x,checked:!1})}},children:[t("ol",{className:g["Todo-list"],children:r.map((e,o)=>t("li",{children:s("label",{children:[t("input",{type:"checkbox",name:`${o}_${e.text}`,checked:e.checked,onChange:()=>h(o)}),e.text]})},o))}),t("input",{className:g["Todo-input"],name:"new-item",type:"text",placeholder:"New todo item..."})]})}const E="_Sync_pkdpd_1";var z={Sync:E};function W(){return t("div",{className:z.Sync,children:"Sync"})}const B="_History_1tszd_1";var P={History:B};function M(){return t("div",{className:P.History,children:"History"})}j().then(()=>{N.render(t(F.StrictMode,{children:t(S,{children:t(w,{children:s(d,{path:"/",element:t(A,{}),children:[t(d,{index:!0,element:t(L,{})}),t(d,{path:"/sync",element:t(W,{})}),t(d,{path:"/history",element:t(M,{})})]})})})}),document.getElementById("root"))});"serviceWorker"in navigator?navigator.serviceWorker.register("./service-worker.js",{}).then(r=>{console.log("Registration succeeded. Scope is "+r.scope)}).catch(r=>{debugger;console.log("Registration failed with "+r)}):console.error("Wont work!");
