import{j as x,O as k,L as m,l as N,r as d,u as T,R as w,a as b,B as I,b as R,c as p}from"./vendor.56e6658f.js";const S=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function u(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=u(e);fetch(e.href,o)}};S();var h="/pwa-test/assets/checkbox.bce85b74.svg";const j="_App_13tdp_1",F="_Header_13tdp_14",A="_Footer_13tdp_28";var a={App:j,Header:F,Footer:A,"Footer-item":"_Footer-item_13tdp_37"};const t=x.exports.jsx,c=x.exports.jsxs;function $(){return c("div",{className:a.App,children:[t(O,{}),t("main",{children:t(k,{})}),t(L,{})]})}function O(){return t(m,{to:"/",children:c("header",{className:a.Header,children:[t("h1",{children:"PWA test"}),t("img",{src:h,className:a["App-logo"],alt:"logo"})]})})}function L(){return c("footer",{className:a.Footer,children:[c(m,{to:"/",className:a["Footer-item"],children:[t("img",{src:h,alt:"logo"}),t("span",{children:"todo"})]}),c(m,{to:"/sync",className:a["Footer-item"],children:[t("img",{src:h,alt:"logo"}),t("span",{children:"sync"})]}),c(m,{to:"/about",className:a["Footer-item"],children:[t("img",{src:h,alt:"logo"}),t("span",{children:"about"})]})]})}var i={"Todo-list":"_Todo-list_1gvp6_1","Todo-item":"_Todo-item_1gvp6_10","Todo-row":"_Todo-row_1gvp6_16","Todo-input":"_Todo-input_1gvp6_26"};const E={name:"PWA test",storeName:"pwa_test",version:1,description:"Offline storage for the app data"},f=N.createInstance(E),g="tasks";async function P(){if(await f.getItem(g)!=null)return;const n=[{text:"Build tools",checked:!0},{text:"Create page layout",checked:!0},{text:"Input fields",checked:!0},{text:"Offline data storage",checked:!0},{text:"Upload images",checked:!1}];await f.setItem(g,n)}function q(){const[r,n]=d.exports.useState([]);d.exports.useEffect(()=>{f.getItem(g).then(e=>n(e!=null?e:[])).catch(e=>console.error("failed to load!",e))},[]),d.exports.useEffect(()=>{f.setItem(g,r).catch(e=>console.error("failed to save!",e))},[r]);const u=e=>{const o=[...r];o[e].checked=!o[e].checked,n(o)},s=e=>{const o=[...r,e];n(o)};return t("form",{onSubmit:e=>{e.preventDefault();const o=`.${i["Todo-input"]}`,l=e.currentTarget.querySelector(o);if(l!=null){const _=l,y=_.value;_.value="",s({text:y,checked:!1})}},children:c("ol",{className:i["Todo-list"],children:[r.map((e,o)=>t("li",{className:i["Todo-item"],children:c("label",{className:i["Todo-row"],children:[t("input",{type:"checkbox",name:`${o}_${e.text}`,checked:e.checked,onChange:()=>u(o)}),e.text]})},o)),t("li",{className:i["Todo-item"],children:t("input",{className:i["Todo-input"],name:"new-item",type:"text",placeholder:"New todo item..."})})]})})}function C(){const r=T();return t("form",{onSubmit:n=>{n.preventDefault()},children:t("input",{className:i["TodoItem-text"],name:"text",type:"text",placeholder:`Todo item ${r.todoId}...`})})}const H="_Sync_pkdpd_1";var W={Sync:H};function B(){return t("div",{className:W.Sync,children:"Sync"})}const D="_root_ajhqc_1",M="_video_ajhqc_11",K="_canvas_ajhqc_16";var v={root:D,video:M,canvas:K};function U(){const r=d.exports.useRef(null),n=d.exports.useRef(null);d.exports.useEffect(()=>{const s=r.current,e={video:!0};navigator.mediaDevices.getUserMedia(e).then(o=>(s.srcObject=o,s.play())).catch(console.error)},[]);const u=()=>{const s=n.current,e=r.current,o=s.getContext("2d");o==null||o.drawImage(e,0,0,s.width,s.height)};return c("div",{className:v.root,children:[t("p",{children:"About"}),t("p",{children:"para"}),t("video",{ref:r,className:v.video,autoPlay:!0}),t("canvas",{ref:n,className:v.canvas}),t("button",{onClick:u,children:"Capture"})]})}P().then(()=>{w.render(t(b.StrictMode,{children:t(I,{basename:"/pwa-test/",children:t(R,{children:c(p,{path:"/",element:t($,{}),children:[t(p,{index:!0,element:t(q,{})}),t(p,{path:"/:todoId",element:t(C,{})}),t(p,{path:"/sync",element:t(B,{})}),t(p,{path:"/about",element:t(U,{})})]})})})}),document.getElementById("root"))});"serviceWorker"in navigator?navigator.serviceWorker.register("./service-worker.js",{}).then(r=>{console.log("Registration succeeded. Scope is "+r.scope)}).catch(r=>{debugger;console.log("Registration failed with "+r)}):console.error("Wont work!");
